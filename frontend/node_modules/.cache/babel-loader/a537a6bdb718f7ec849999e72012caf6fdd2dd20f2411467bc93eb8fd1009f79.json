{"ast":null,"code":"import { mapGetters } from 'vuex';\nexport default {\n  name: 'DoctorLayout',\n  computed: {\n    ...mapGetters(['currentUser']),\n    // 确保currentUser不为空\n    userInfo() {\n      return this.currentUser || {};\n    },\n    activeIndex() {\n      return this.$route.path;\n    }\n  },\n  methods: {\n    handleCommand(command) {\n      if (command === 'profile') {\n        this.$router.push('/doctor/profile');\n      } else if (command === 'logout') {\n        this.logout();\n      }\n    },\n    logout() {\n      this.$confirm('确定要退出登录吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$store.dispatch('logout');\n        this.$message.success('退出登录成功');\n        this.$router.push('/login');\n      }).catch(() => {\n        // 取消退出\n      });\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","name","computed","userInfo","currentUser","activeIndex","$route","path","methods","handleCommand","command","$router","push","logout","$confirm","confirmButtonText","cancelButtonText","type","then","$store","dispatch","$message","success","catch"],"sources":["src/views/doctor/Layout.vue"],"sourcesContent":["<template>\n  <el-container class=\"layout-container\">\n    <el-header class=\"layout-header\">\n      <div class=\"logo\">智能齿科就诊系统 - 医生端</div>\n      <div class=\"user-info\">\n        <span>欢迎您，{{ currentUser && currentUser.realName ? currentUser.realName : '医生' }} 医生</span>\n        <el-dropdown @command=\"handleCommand\">\n          <span class=\"el-dropdown-link\">\n            <i class=\"el-icon-user\"></i> 个人中心<i class=\"el-icon-arrow-down el-icon--right\"></i>\n          </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item command=\"profile\">个人信息</el-dropdown-item>\n            <el-dropdown-item command=\"logout\">退出登录</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n    </el-header>\n    \n    <el-container>\n      <el-aside width=\"200px\" class=\"layout-aside\">\n        <el-menu\n          :default-active=\"activeIndex\"\n          class=\"layout-menu\"\n          router\n          background-color=\"#545c64\"\n          text-color=\"#fff\"\n          active-text-color=\"#ffd04b\">\n          <el-menu-item index=\"/doctor/home\">\n            <i class=\"el-icon-s-home\"></i>\n            <span slot=\"title\">首页</span>\n          </el-menu-item>\n          <el-menu-item index=\"/doctor/appointments\">\n            <i class=\"el-icon-date\"></i>\n            <span slot=\"title\">预约患者</span>\n          </el-menu-item>\n          <el-menu-item index=\"/doctor/records\">\n            <i class=\"el-icon-document\"></i>\n            <span slot=\"title\">诊疗记录</span>\n          </el-menu-item>\n          <el-menu-item index=\"/doctor/schedule\">\n            <i class=\"el-icon-time\"></i>\n            <span slot=\"title\">排班管理</span>\n          </el-menu-item>\n          <el-menu-item index=\"/doctor/profile\">\n            <i class=\"el-icon-user\"></i>\n            <span slot=\"title\">个人信息</span>\n          </el-menu-item>\n        </el-menu>\n      </el-aside>\n      \n      <el-main class=\"layout-main\">\n        <router-view />\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'DoctorLayout',\n  computed: {\n    ...mapGetters(['currentUser']),\n    \n    // 确保currentUser不为空\n    userInfo() {\n      return this.currentUser || {}\n    },\n    activeIndex() {\n      return this.$route.path\n    }\n  },\n  methods: {\n    handleCommand(command) {\n      if (command === 'profile') {\n        this.$router.push('/doctor/profile')\n      } else if (command === 'logout') {\n        this.logout()\n      }\n    },\n    logout() {\n      this.$confirm('确定要退出登录吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$store.dispatch('logout')\n        this.$message.success('退出登录成功')\n        this.$router.push('/login')\n      }).catch(() => {\n        // 取消退出\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.layout-container {\n  height: 100vh;\n}\n\n.layout-header {\n  background-color: #67C23A;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 20px;\n}\n\n.layout-aside {\n  background-color: #545c64;\n  color: white;\n}\n\n.layout-menu {\n  border-right: none;\n  height: 100%;\n}\n\n.layout-main {\n  background-color: #f5f7fa;\n  padding: 20px;\n}\n\n.logo {\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n}\n\n.user-info span {\n  margin-right: 15px;\n}\n\n.el-dropdown-link {\n  color: white;\n  cursor: pointer;\n}\n</style>\n"],"mappings":"AA0DA,SAAAA,UAAA;AAEA;EACAC,IAAA;EACAC,QAAA;IACA,GAAAF,UAAA;IAEA;IACAG,SAAA;MACA,YAAAC,WAAA;IACA;IACAC,YAAA;MACA,YAAAC,MAAA,CAAAC,IAAA;IACA;EACA;EACAC,OAAA;IACAC,cAAAC,OAAA;MACA,IAAAA,OAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA,WAAAF,OAAA;QACA,KAAAG,MAAA;MACA;IACA;IACAA,OAAA;MACA,KAAAC,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAAC,IAAA;QACA,KAAAC,MAAA,CAAAC,QAAA;QACA,KAAAC,QAAA,CAAAC,OAAA;QACA,KAAAX,OAAA,CAAAC,IAAA;MACA,GAAAW,KAAA;QACA;MAAA,CACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}