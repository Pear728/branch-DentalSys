{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    user: JSON.parse(localStorage.getItem('user')) || null,\n    token: localStorage.getItem('token') || null\n  },\n  getters: {\n    isAuthenticated: state => !!state.user,\n    isPatient: state => state.user && state.user.role === 1,\n    isDoctor: state => state.user && state.user.role === 2,\n    isAdmin: state => state.user && state.user.role === 3,\n    currentUser: state => state.user\n  },\n  mutations: {\n    SET_USER(state, user) {\n      state.user = user;\n      if (user) {\n        localStorage.setItem('user', JSON.stringify(user));\n      } else {\n        localStorage.removeItem('user');\n      }\n    },\n    SET_TOKEN(state, token) {\n      state.token = token;\n      if (token) {\n        localStorage.setItem('token', token);\n      } else {\n        localStorage.removeItem('token');\n      }\n    }\n  },\n  actions: {\n    login({\n      commit\n    }, {\n      user,\n      token\n    }) {\n      commit('SET_USER', user);\n      commit('SET_TOKEN', token);\n    },\n    logout({\n      commit\n    }) {\n      commit('SET_USER', null);\n      commit('SET_TOKEN', null);\n    },\n    updateUser({\n      commit\n    }, user) {\n      commit('SET_USER', user);\n    }\n  }\n});","map":{"version":3,"names":["Vue","Vuex","use","Store","state","user","JSON","parse","localStorage","getItem","token","getters","isAuthenticated","isPatient","role","isDoctor","isAdmin","currentUser","mutations","SET_USER","setItem","stringify","removeItem","SET_TOKEN","actions","login","commit","logout","updateUser"],"sources":["D:/Desktop/AI项目/进行中/20250415-WX-07/工作文件/dental-system/frontend/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    user: JSON.parse(localStorage.getItem('user')) || null,\n    token: localStorage.getItem('token') || null\n  },\n  getters: {\n    isAuthenticated: state => !!state.user,\n    isPatient: state => state.user && state.user.role === 1,\n    isDoctor: state => state.user && state.user.role === 2,\n    isAdmin: state => state.user && state.user.role === 3,\n    currentUser: state => state.user\n  },\n  mutations: {\n    SET_USER(state, user) {\n      state.user = user\n      if (user) {\n        localStorage.setItem('user', JSON.stringify(user))\n      } else {\n        localStorage.removeItem('user')\n      }\n    },\n    SET_TOKEN(state, token) {\n      state.token = token\n      if (token) {\n        localStorage.setItem('token', token)\n      } else {\n        localStorage.removeItem('token')\n      }\n    }\n  },\n  actions: {\n    login({ commit }, { user, token }) {\n      commit('SET_USER', user)\n      commit('SET_TOKEN', token)\n    },\n    logout({ commit }) {\n      commit('SET_USER', null)\n      commit('SET_TOKEN', null)\n    },\n    updateUser({ commit }, user) {\n      commit('SET_USER', user)\n    }\n  }\n})\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AAEvBD,GAAG,CAACE,GAAG,CAACD,IAAI,CAAC;AAEb,eAAe,IAAIA,IAAI,CAACE,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI;IACtDC,KAAK,EAAEF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI;EAC1C,CAAC;EACDE,OAAO,EAAE;IACPC,eAAe,EAAER,KAAK,IAAI,CAAC,CAACA,KAAK,CAACC,IAAI;IACtCQ,SAAS,EAAET,KAAK,IAAIA,KAAK,CAACC,IAAI,IAAID,KAAK,CAACC,IAAI,CAACS,IAAI,KAAK,CAAC;IACvDC,QAAQ,EAAEX,KAAK,IAAIA,KAAK,CAACC,IAAI,IAAID,KAAK,CAACC,IAAI,CAACS,IAAI,KAAK,CAAC;IACtDE,OAAO,EAAEZ,KAAK,IAAIA,KAAK,CAACC,IAAI,IAAID,KAAK,CAACC,IAAI,CAACS,IAAI,KAAK,CAAC;IACrDG,WAAW,EAAEb,KAAK,IAAIA,KAAK,CAACC;EAC9B,CAAC;EACDa,SAAS,EAAE;IACTC,QAAQA,CAACf,KAAK,EAAEC,IAAI,EAAE;MACpBD,KAAK,CAACC,IAAI,GAAGA,IAAI;MACjB,IAAIA,IAAI,EAAE;QACRG,YAAY,CAACY,OAAO,CAAC,MAAM,EAAEd,IAAI,CAACe,SAAS,CAAChB,IAAI,CAAC,CAAC;MACpD,CAAC,MAAM;QACLG,YAAY,CAACc,UAAU,CAAC,MAAM,CAAC;MACjC;IACF,CAAC;IACDC,SAASA,CAACnB,KAAK,EAAEM,KAAK,EAAE;MACtBN,KAAK,CAACM,KAAK,GAAGA,KAAK;MACnB,IAAIA,KAAK,EAAE;QACTF,YAAY,CAACY,OAAO,CAAC,OAAO,EAAEV,KAAK,CAAC;MACtC,CAAC,MAAM;QACLF,YAAY,CAACc,UAAU,CAAC,OAAO,CAAC;MAClC;IACF;EACF,CAAC;EACDE,OAAO,EAAE;IACPC,KAAKA,CAAC;MAAEC;IAAO,CAAC,EAAE;MAAErB,IAAI;MAAEK;IAAM,CAAC,EAAE;MACjCgB,MAAM,CAAC,UAAU,EAAErB,IAAI,CAAC;MACxBqB,MAAM,CAAC,WAAW,EAAEhB,KAAK,CAAC;IAC5B,CAAC;IACDiB,MAAMA,CAAC;MAAED;IAAO,CAAC,EAAE;MACjBA,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC;MACxBA,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC;IAC3B,CAAC;IACDE,UAAUA,CAAC;MAAEF;IAAO,CAAC,EAAErB,IAAI,EAAE;MAC3BqB,MAAM,CAAC,UAAU,EAAErB,IAAI,CAAC;IAC1B;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}